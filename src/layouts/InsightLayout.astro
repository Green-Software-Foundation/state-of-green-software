---
import { Icon } from "astro-icon";
const { frontmatter } = Astro.props;
import Form from "../components/Form.astro";
const { title, image } = frontmatter;
import "../styles/base.css";
import Footer from "../components/Footer.astro";
import Layout from "./Layout.astro";
const { href: url } = Astro.url;
---

<Layout>
  <div class="absolute left-0 top-0 -z-10 pointer-events-none hidden md:block">
    <Icon name="pattern-left" height="600" />
  </div>
  <div class="absolute -right-12 top-[500px] -z-10 pointer-events-none hidden md:block">
    <Icon name="pattern-right" height="600" />
  </div>
  <div class="max-w-5xl mx-auto main-img-wrapper mb-4">
    <img src={`/images/insights/${image}`} alt={title} class="rounded-2xl" />
  </div>
  <div
    class="social max-w-5xl mx-auto flex items-center justify-end gap-4 mb-4"
  >
    <span> Share</span>
    <a
      class="button icon"
      href={`https://twitter.com/intent/tweet?text=Check%20out%20this%20insight%20on%20the%20State%20of%20green%20Software%20%7C%20${url}%2F`}
      target="_blank"
      rel="noopener noreferrer"
    >
      <Icon name="twitter" height="24" color="#006d68" />
    </a>
    <a
      class="button icon"
      href={`https://www.linkedin.com/sharing/share-offsite/?url=${url}`}
      target="_blank"
      rel="noopener noreferrer"
    >
      <Icon name="linkedin" height="24" color="#006d68" />
    </a>
  </div>
  <div class="max-w-4xl mx-auto">
    <article class="prose max-w-none prose-xl">
      <slot />
    </article>
    <Form title="Sign up to our newsletter" />
  </div>
</Layout>

